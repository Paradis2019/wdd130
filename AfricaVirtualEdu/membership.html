<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Membership – Africa Virtual Education</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description"
        content="Become a member of Africa Virtual Education to access mentorship, education support, and community-driven projects." />
    <meta name="keywords"
        content="Africa education, virtual learning, mentorship, scholarships, DR Congo, non-profit" />
    <meta name="author" content="Africa Virtual Education" />

    <!-- Open Graph / Social -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Africa Virtual Education (AVE)" />
    <meta property="og:description"
        content="Empowering students across Africa through mentorship, education support, and targeted projects." />
    <meta property="og:url" content="https://www.africavirtualeducation.org/" />
    <meta property="og:image" content="https://www.africavirtualeducation.org/images/logo-ave.png" />

    <link rel="canonical" href="https://www.africavirtualeducation.org/membership.html" />

    <link rel="stylesheet" href="styles.css" />

    <script>
        const state = {
            evaluation: {},
            termsConfirmed: false
        };

        function goToStep(step) {
            const sections = ["step-1", "step-2", "step-3", "step-4"];
            sections.forEach(id => document.getElementById(id).classList.remove("active"));
            (step <= 3 ? document.getElementById(`step-${step}`) : document.getElementById("step-4")).classList.add("active");

            for (let i = 1; i <= 3; i++) {
                const pill = document.getElementById(`step-pill-${i}`);
                pill.classList.remove("active", "muted");
                if (i === step) pill.classList.add("active");
                else if (i < step) pill.classList.add("active");
                else pill.classList.add("muted");
            }

            const bar = document.getElementById("progress-bar");
            const widthMap = { 1: "12%", 2: "52%", 3: "100%", 4: "100%" };
            bar.style.width = widthMap[step] || "12%";
        }

        function showAlert(id, type, text) {
            const box = document.getElementById(id);
            if (!text) {
                box.style.display = "none";
                return;
            }
            box.className = `alert ${type}`;
            box.textContent = text;
            box.style.display = "block";
        }

        // STEP 1: evaluation with radios
        function checkEligibility() {
            const speak = document.querySelector('input[name="q_speakEnglish"]:checked')?.value;
            const understand = document.querySelector('input[name="q_understandEnglish"]:checked')?.value;
            const laptop = document.querySelector('input[name="q_laptopAccess"]:checked')?.value;

            if (!speak || !understand || !laptop) {
                showAlert("eval-alert", "error", "Please answer all evaluation questions.");
                return;
            }

            state.evaluation = { speak, understand, laptop };

            // Disqualify if any answer is exactly "no"
            if (speak === "no" || understand === "no" || laptop === "no") {
                showAlert("eval-alert", "error", "You are not qualified for membership at this time.");
                return;
            }

            showAlert("eval-alert", "success", "Thank you. You are eligible to continue with the membership process.");
            setTimeout(() => {
                goToStep(2);
                showAlert("eval-alert", "success", "");
            }, 600);
        }

        // STEP 2: accept terms
        async function confirmTerms() {
            const agree = document.getElementById("t_agree").checked;
            const fullname = document.getElementById("t_fullname").value.trim();
            const date = document.getElementById("t_date").value;

            if (!agree) {
                showAlert("terms-alert", "error", "You must agree to the Terms and Conditions to continue.");
                return;
            }
            if (!fullname) {
                showAlert("terms-alert", "error", "Please enter your full name (as signature).");
                return;
            }
            if (!date) {
                showAlert("terms-alert", "error", "Please select the date.");
                return;
            }

            state.termsConfirmed = true;
            state.evaluation.termsName = fullname;
            state.evaluation.termsDate = date;

            showAlert("terms-alert", "success", "Thank you. Your acceptance of the terms has been recorded.");
            // backend: send evaluation + terms if needed

            setTimeout(() => {
                goToStep(3);
                showAlert("terms-alert", "success", "");
            }, 600);
        }

        // STEP 3: enrollment form submit
        async function submitEnrollment() {
            const fullName = document.getElementById("en_fullName").value.trim();
            const dob = document.getElementById("en_dob").value;
            const gender = document.getElementById("en_gender").value;
            const country = document.getElementById("en_country").value.trim();
            const email = document.getElementById("en_email").value.trim();
            const phone = document.getElementById("en_phone").value.trim();
            const status = document.getElementById("en_status").value.trim();
            const institution = document.getElementById("en_institution").value.trim();
            const goals = document.getElementById("en_goals").value.trim();

            const comm = document.querySelector('input[name="en_comm"]:checked')?.value;
            const agreeTerms = document.getElementById("en_agreeTerms").checked;
            const sigName = document.getElementById("en_signatureName").value.trim();
            const sigDate = document.getElementById("en_signatureDate").value;

            // reasons
            const reasonNodes = document.querySelectorAll('input[name="en_reason"]:checked');
            const reasons = Array.from(reasonNodes).map(r => r.value);
            const otherText = document.getElementById("en_reasonOther").value.trim();
            if (otherText) reasons.push("Other: " + otherText);

            if (!fullName || !dob || !gender || !country || !email || !phone) {
                showAlert("enroll-alert", "error", "Please fill in all required personal information fields.");
                return;
            }

            if (!comm) {
                showAlert("enroll-alert", "error", "Please select your communication preference.");
                return;
            }

            if (!agreeTerms) {
                showAlert("enroll-alert", "error", "You must confirm that you agree to the Terms and Conditions.");
                return;
            }

            if (!sigName || !sigDate) {
                showAlert("enroll-alert", "error", "Please provide your name and date as signature.");
                return;
            }

            const enrollment = {
                fullName,
                dob,
                gender,
                country,
                email,
                phone,
                status,
                institution,
                reasons,
                goals,
                communicationPreference: comm,
                consentSignatureName: sigName,
                consentSignatureDate: sigDate
            };

            const payload = {
                evaluation: state.evaluation,
                termsConfirmed: state.termsConfirmed,
                enrollment
            };

            showAlert("enroll-alert", "success",
                "Submitting your enrollment… you will receive your username and password by email once approved.");

            // Here you would POST `payload` to your backend
            /*
            const response = await fetch('/api/membership/enroll', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();
            */

            setTimeout(() => {
                goToStep(4);
                showAlert("enroll-alert", "success", "");
            }, 800);
        }
    </script>

</head>

<body>

    <!-- ===== HEADER (unchanged) ===== -->
    <header class="header">
        <div class="container nav-container">

            <a href="index.html" class="logo">
                <img src="images/Logo-ave.svg" alt="Africa Virtual Education logo" class="logo-img" />
                <div class="logo-text">
                    <span class="logo-main">Africa Virtual Education</span>
                    <span class="logo-sub">Empowering Students Across Africa</span>
                </div>
            </a>

            <div class="header-actions">
                <a href="index.html#donation" class="btn btn-donate">Donate</a>
                <button class="btn btn-login" id="loginBtn">Login</button>

                <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>

            <nav class="nav" id="mainNav">
                <a href="index.html#mission">Our Mission</a>
                <a href="project.html">Project</a>
                <a href="membership.html">Membership</a>
                <a href="donation.html">Donation</a>
                <a href="contact.html">Contact Us</a>
                <a href="testimonies.html">Testimonies</a>
            </nav>

        </div>
    </header>

    <!-- ===== MEMBERSHIP WIZARD (new) ===== -->

    <main class="membership-main">
        <div class="container">
            <h1>Membership – Evaluation</h1>

            <form id="evalForm" class="card-form">
                <p>Please answer the following questions:</p>

                <div class="form-group">
                    <label>1. Do you speak English?</label>
                    <div class="form-options">
                        <label><input type="radio" name="speakEnglish" value="yes"> Yes</label>
                        <label><input type="radio" name="speakEnglish" value="no"> No</label>
                        <label><input type="radio" name="speakEnglish" value="little"> A little</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>2. Do you listen and understand English well?</label>
                    <div class="form-options">
                        <label><input type="radio" name="understandEnglish" value="yes"> Yes</label>
                        <label><input type="radio" name="understandEnglish" value="no"> No</label>
                        <label><input type="radio" name="understandEnglish" value="sometimes"> Sometimes</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>3. Do you have access to a laptop or computer?</label>
                    <div class="form-options">
                        <label><input type="radio" name="laptopAccess" value="yes"> Yes</label>
                        <label><input type="radio" name="laptopAccess" value="no"> No</label>
                        <label><input type="radio" name="laptopAccess" value="shared"> Occasionally / Shared
                            access</label>
                    </div>
                </div>

                <p class="note-text">
                    <strong>Note:</strong> If you answer “No” to any of the questions above,
                    you are not qualified for membership at this time.
                </p>

                <button type="button" class="btn btn-primary" id="evaluateBtn">Check Eligibility</button>
                <p id="evaluationResult" class="form-message"></p>
            </form>
        </div>
    </main>

    <script>
        document.getElementById("evaluateBtn").addEventListener("click", function () {
            const speak = document.querySelector('input[name="speakEnglish"]:checked')?.value;
            const understand = document.querySelector('input[name="understandEnglish"]:checked')?.value;
            const laptop = document.querySelector('input[name="laptopAccess"]:checked')?.value;
            const result = document.getElementById("evaluationResult");

            if (!speak || !understand || !laptop) {
                result.textContent = "Please answer all questions.";
                result.classList.add("error-message");
                return;
            }

            // If any answer is exactly "no" → disqualify
            if (speak === "no" || understand === "no" || laptop === "no") {
                result.textContent = "You are not qualified for membership at this time.";
                result.classList.add("error-message");
                localStorage.removeItem("aveEligible");
                return;
            }

            // Eligible → save flag and go to Step 2 page
            localStorage.setItem("aveEligible", "yes");
            result.textContent = "Thank you. You are eligible. Redirecting to Terms & Conditions...";
            result.classList.remove("error-message");
            result.classList.add("success-message");

            setTimeout(() => {
                window.location.href = "membership-step2.html";
            }, 800);
        });
    </script>

    <!-- ======== Part 2 ==========-->

    <!--from step 1-->
    window.location.href = "membership-terms.html";

    <!-- inside <body> after your header, inside main/container as usual -->
    <main class="membership-main">
        <div class="container">
            <h1>Membership – Evaluation</h1>

            <form id="evalForm" class="card-form">
                <p>Please answer the following questions:</p>

                <div class="form-group">
                    <label>1. Do you speak English?</label>
                    <div class="form-options">
                        <label><input type="radio" name="speakEnglish" value="yes"> Yes</label>
                        <label><input type="radio" name="speakEnglish" value="no"> No</label>
                        <label><input type="radio" name="speakEnglish" value="little"> A little</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>2. Do you listen and understand English well?</label>
                    <div class="form-options">
                        <label><input type="radio" name="understandEnglish" value="yes"> Yes</label>
                        <label><input type="radio" name="understandEnglish" value="no"> No</label>
                        <label><input type="radio" name="understandEnglish" value="sometimes"> Sometimes</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>3. Do you have access to a laptop or computer?</label>
                    <div class="form-options">
                        <label><input type="radio" name="laptopAccess" value="yes"> Yes</label>
                        <label><input type="radio" name="laptopAccess" value="no"> No</label>
                        <label><input type="radio" name="laptopAccess" value="shared"> Occasionally / Shared
                            access</label>
                    </div>
                </div>

                <p class="note-text">
                    <strong>Note:</strong> If you answer “No” to any of the questions above,
                    you are not qualified for membership at this time.
                </p>

                <button type="button" class="btn btn-primary" id="evaluateBtn">Check Eligibility</button>
                <p id="evaluationResult" class="form-message"></p>
            </form>
        </div>
    </main>

    <script>
        document.getElementById("evaluateBtn").addEventListener("click", function () {
            const speak = document.querySelector('input[name="speakEnglish"]:checked')?.value;
            const understand = document.querySelector('input[name="understandEnglish"]:checked')?.value;
            const laptop = document.querySelector('input[name="laptopAccess"]:checked')?.value;
            const result = document.getElementById("evaluationResult");

            if (!speak || !understand || !laptop) {
                result.textContent = "Please answer all questions.";
                result.classList.add("error-message");
                return;
            }

            // If any answer is exactly "no" → disqualify
            if (speak === "no" || understand === "no" || laptop === "no") {
                result.textContent = "You are not qualified for membership at this time.";
                result.classList.add("error-message");
                localStorage.removeItem("aveEligible");
                return;
            }

            // Eligible → save flag and go to Step 2 page
            localStorage.setItem("aveEligible", "yes");
            result.textContent = "Thank you. You are eligible. Redirecting to Terms & Conditions...";
            result.classList.remove("error-message");
            result.classList.add("success-message");

            setTimeout(() => {
                window.location.href = "membership-step2.html";
            }, 800);
        });
    </script>


    <!--from step 2-->
    window.location.href = "membership-enroll.html";

    <main class="membership-main">
        <div class="container">
            <h1>Membership – Terms and Conditions</h1>

            <section class="card-form">
                <!-- Put your full Terms & Conditions text here exactly as you wrote it -->
                <div class="terms-box">
                    <!-- ... ALL YOUR T&C TEXT ... -->
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="t_agree">
                        I have read, understood, and agree to the Africa Virtual Education Membership Terms and
                        Conditions.
                    </label>
                </div>

                <div class="form-group">
                    <label>Full Name (as Signature)</label>
                    <input type="text" id="t_fullname">
                </div>

                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="t_date">
                </div>

                <button class="btn btn-secondary" type="button" onclick="window.location.href='membership-step1.html'">
                    Back to Evaluation
                </button>
                <button class="btn btn-primary" type="button" id="termsNextBtn">
                    Accept & Continue to Enrollment
                </button>

                <p id="termsMessage" class="form-message"></p>
            </section>
        </div>
    </main>

    <script>
        // guard: only allow if evaluation step was passed
        if (localStorage.getItem("aveEligible") !== "yes") {
            window.location.href = "membership-step1.html";
        }

        document.getElementById("termsNextBtn").addEventListener("click", function () {
            const agree = document.getElementById("t_agree").checked;
            const fullname = document.getElementById("t_fullname").value.trim();
            const date = document.getElementById("t_date").value;
            const msg = document.getElementById("termsMessage");

            if (!agree) {
                msg.textContent = "You must agree to the Terms and Conditions to continue.";
                msg.classList.add("error-message");
                return;
            }
            if (!fullname || !date) {
                msg.textContent = "Please provide your full name and date.";
                msg.classList.add("error-message");
                return;
            }

            // Optionally store name/date for backend later
            localStorage.setItem("aveTermsAccepted", "yes");
            localStorage.setItem("aveTermsName", fullname);
            localStorage.setItem("aveTermsDate", date);

            msg.textContent = "Thank you. Moving to enrollment…";
            msg.classList.remove("error-message");
            msg.classList.add("success-message");

            setTimeout(() => {
                window.location.href = "membership-step3.html";
            }, 800);
        });
    </script>

    <!--guard checks-->
    window.location.href = "membership.html";
    <main class="membership-main">
        <div class="container">
            <h1>Membership – Enrollment Form</h1>

            <form id="enrollmentForm" class="card-form">
                <h3>Personal Information</h3>

                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="en_fullName" required>
                </div>

                <div class="form-group">
                    <label>Date of Birth</label>
                    <input type="date" id="en_dob" required>
                </div>

                <div class="form-group">
                    <label>Gender</label>
                    <select id="en_gender" required>
                        <option value="">Select</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Prefer not to say</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Country of Residence</label>
                    <input type="text" id="en_country" required>
                </div>

                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="en_email" required>
                </div>

                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="tel" id="en_phone" required>
                </div>

                <div class="form-group">
                    <label>Occupation / Student Status</label>
                    <input type="text" id="en_status">
                </div>

                <div class="form-group">
                    <label>Institution (if applicable)</label>
                    <input type="text" id="en_institution">
                </div>

                <h3>Membership Details</h3>
                <div class="form-group">
                    <label>Reason for Joining Africa Virtual Education</label>
                    <div class="form-options">
                        <label><input type="checkbox" name="en_reason" value="Mentorship Program"> Mentorship
                            Program</label>
                        <label><input type="checkbox" name="en_reason" value="Education Support"> Education
                            Support</label>
                        <label><input type="checkbox" name="en_reason" value="Partnership"> Partnership</label>
                        <label><input type="checkbox" name="en_reason" value="Volunteering"> Volunteering</label>
                        <label>
                            <input type="checkbox" name="en_reason" value="Other"> Other:
                            <input type="text" id="en_reasonOther" style="margin-left:6px; max-width:60%;">
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Briefly describe your goals or interest in joining</label>
                    <textarea id="en_goals" rows="4"></textarea>
                </div>

                <h3>Communication Preference</h3>
                <div class="form-group">
                    <label><input type="radio" name="en_comm" value="Email"> Email</label>
                    <label><input type="radio" name="en_comm" value="WhatsApp / SMS"> WhatsApp / SMS</label>
                    <label><input type="radio" name="en_comm" value="Both"> Both</label>
                </div>

                <h3>Consent and Agreement</h3>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="en_agreeTerms">
                        I agree to the Africa Virtual Education Terms and Conditions, including the use of my photo,
                        image,
                        video, or speech/testimony for organizational purposes.
                    </label>
                </div>

                <div class="form-group">
                    <label>Full Name (as Signature)</label>
                    <input type="text" id="en_signatureName">
                </div>

                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="en_signatureDate">
                </div>

                <button type="button" class="btn btn-secondary"
                    onclick="window.location.href='membership-step2.html'">Back</button>
                <button type="button" class="btn btn-primary" id="en_submitBtn">Submit Enrollment</button>

                <p id="enrollmentMessage" class="form-message"></p>
            </form>
        </div>
    </main>

    <script>
        // guard: only allow if evaluation + terms completed
        if (localStorage.getItem("aveEligible") !== "yes" ||
            localStorage.getItem("aveTermsAccepted") !== "yes") {
            window.location.href = "membership-step1.html";
        }

        document.getElementById("en_submitBtn").addEventListener("click", function () {
            const msg = document.getElementById("enrollmentMessage");

            const fullName = document.getElementById("en_fullName").value.trim();
            const dob = document.getElementById("en_dob").value;
            const gender = document.getElementById("en_gender").value;
            const country = document.getElementById("en_country").value.trim();
            const email = document.getElementById("en_email").value.trim();
            const phone = document.getElementById("en_phone").value.trim();
            const comm = document.querySelector('input[name="en_comm"]:checked')?.value;
            const agreeTerms = document.getElementById("en_agreeTerms").checked;
            const sigName = document.getElementById("en_signatureName").value.trim();
            const sigDate = document.getElementById("en_signatureDate").value;

            if (!fullName || !dob || !gender || !country || !email || !phone) {
                msg.textContent = "Please fill in all required personal information fields.";
                msg.classList.add("error-message");
                return;
            }

            if (!comm) {
                msg.textContent = "Please select your communication preference.";
                msg.classList.add("error-message");
                return;
            }

            if (!agreeTerms || !sigName || !sigDate) {
                msg.textContent = "Please agree to the terms and provide your signature name and date.";
                msg.classList.add("error-message");
                return;
            }

            // collect reasons
            const reasonNodes = document.querySelectorAll('input[name="en_reason"]:checked');
            const reasons = Array.from(reasonNodes).map(r => r.value);
            const otherText = document.getElementById("en_reasonOther").value.trim();
            if (otherText) reasons.push("Other: " + otherText);

            const payload = {
                evaluation: {
                    speakEnglish: localStorage.getItem("speakEnglish"),
                    understandEnglish: localStorage.getItem("understandEnglish"),
                    laptopAccess: localStorage.getItem("laptopAccess"),
                    termsName: localStorage.getItem("aveTermsName"),
                    termsDate: localStorage.getItem("aveTermsDate")
                },
                enrollment: {
                    fullName, dob, gender, country, email, phone,
                    status: document.getElementById("en_status").value.trim(),
                    institution: document.getElementById("en_institution").value.trim(),
                    reasons, goals: document.getElementById("en_goals").value.trim(),
                    communicationPreference: comm,
                    consentSignatureName: sigName,
                    consentSignatureDate: sigDate
                }
            };

            // here you would send `payload` to your backend
            /*
            fetch('/api/membership/enroll', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(payload)
            });
            */

            msg.textContent = "Thank you! Your enrollment has been submitted. You will receive your username and password by email.";
            msg.classList.remove("error-message");
            msg.classList.add("success-message");

            // Optionally clear flags
            localStorage.removeItem("aveEligible");
            localStorage.removeItem("aveTermsAccepted");
        });
    </script>




    <!-- ===== FOOTER + WIDGETS (unchanged) ===== -->
    <footer class="footer">
        <div class="container footer-content">
            <p>&copy; <span id="year"></span> Africa Virtual Education</p>
        </div>
    </footer>

    <script src="script.js"></script>

    <button id="backToTop" class="back-to-top">↑</button>

    <div class="contact-widget">
        <!-- (your contact widget markup unchanged) -->
        <!-- ... -->
    </div>

    <div class="chatbot-widget">
        <!-- (your chatbot markup unchanged) -->
        <!-- ... -->
    </div>

</body>

</html>